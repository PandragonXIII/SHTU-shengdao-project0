<html>
  <head>
    <meta charset="utf-8">
  </head>
  <body>
    <div id="main" style="height: 100%;"></div>
    <script src="echarts-5.4.2/dist/echarts.js"></script>
    <script src="echarts-5.4.2/dist/extension/dataTool.js"></script>
    <script src="echarts-5.4.2/dist/extension/bmap.js"></script>
    <script src="js/map/china.js"></script>
    <script>
      // 初始化echarts实例
      var myChart = echarts.init(document.getElementById('main'),
            null, {
            renderer: 'canvas',
        });
        //用于生成数据的function
        function randomPieSeries(center, radius) {
            const data = ['感染中', '已痊愈', '未感染', '已接种'].map((t) => {
            return {
                value: Math.round(Math.random() * 100),
                name: t
            };
            });
            return {
            type: 'pie',
            coordinateSystem: 'geo',
            tooltip: {
                formatter: '{b}: {c} ({d}%)'
            },
            label: {
                show: false
            },
            labelLine: {
                show: false
            },
            animationDuration: 0,
            radius,
            center,
            data
            };
        }
      // 配置项
      var option = {
        // backgroundColor: '#404a59',
        title: {
          text: '疫情模拟地图',
          textStyle: {
            color: '#66ccff'
          }
        },
        tooltip: {
          trigger: 'item'
        },
        // 引入中国地图
        geo: {
          map: 'china',
          label: {
            emphasis: {
              show: false
            }
          },
          roam: true,
          itemStyle: {
            normal: {
              areaColor: '#e7e8ea',
              borderColor: '#111'
            },
            // emphasis: { //鼠标指向区域颜色
            //   areaColor: '#2a333d'
            // }
          }
        },
        legend: {},
        series: [
            //调用函数生成对应的饼状图
            randomPieSeries("北京", 5),
        ]
      };

      // 使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);
    </script>
  </body>
</html>
